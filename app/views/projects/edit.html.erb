<div class="max-w-2xl mx-auto px-8 py-8">
  <!-- Header -->
  <div class="mb-6">
    <%= link_to project_path(@project), class: "inline-flex items-center gap-2 text-xs text-muted-foreground hover:text-foreground mb-3 transition-colors" do %>
      <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/>
      </svg>
      Назад к проекту
    <% end %>
    <h1 class="text-xl font-semibold text-foreground">Редактировать проект</h1>
    <p class="text-xs text-muted-foreground mt-1"><%= @project.name %></p>
  </div>

  <!-- Form -->
  <div class="bg-card border border-border rounded-lg">
    <%= form_with model: @project, local: true, class: "p-6 space-y-5" do |f| %>
      <% if @project.errors.any? %>
        <div class="bg-red-50 border border-red-200 rounded-md p-3">
          <div class="flex items-start gap-2">
            <svg class="w-4 h-4 text-red-600 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
            </svg>
            <div>
              <h3 class="text-xs font-medium text-red-800 mb-1">Ошибки при сохранении</h3>
              <ul class="text-xs text-red-700 space-y-0.5">
                <% @project.errors.full_messages.each do |error| %>
                  <li>• <%= error %></li>
                <% end %>
              </ul>
            </div>
          </div>
        </div>
      <% end %>

      <div class="space-y-2">
        <%= f.label :name, "Название проекта", class: "text-sm font-medium text-foreground" %>
        <%= f.text_field :name, class: "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" %>
      </div>

      <div class="space-y-2">
        <%= f.label :description, "Описание", class: "text-sm font-medium text-foreground" %>
        <%= f.text_area :description, rows: 4, class: "flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" %>
      </div>

      <div class="space-y-2">
        <%= f.label :status, "Статус", class: "text-sm font-medium text-foreground" %>
        <%= f.select :status, [["Черновик", "draft"], ["Активный", "active"], ["Архив", "archived"]], {}, class: "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50" %>
      </div>

      <div class="pt-4 flex items-center gap-3 border-t border-border">
        <%= f.submit "Сохранить изменения", class: "inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-semibold text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" %>
        <%= link_to "Отмена", project_path(@project), class: "inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" %>
      </div>
    <% end %>
  </div>
</div>
