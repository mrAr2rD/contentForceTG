<!DOCTYPE html>
<html lang="ru">
  <head>
    <title><%= @channel_site.seo_title %> | ContentForce</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="<%= @channel_site.seo_description %>">

    <!-- Open Graph -->
    <meta property="og:title" content="<%= @channel_site.seo_title %>">
    <meta property="og:description" content="<%= @channel_site.seo_description %>">
    <meta property="og:type" content="website">
    <meta property="og:url" content="<%= @channel_site.full_url %>">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="<%= @channel_site.seo_title %>">
    <meta name="twitter:description" content="<%= @channel_site.seo_description %>">

    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", type: "module" %>

    <style>
      :root {
        --accent-color: #00D4AA;
        --bg-primary: #0A0A0B;
        --bg-secondary: #111113;
        --bg-tertiary: #18181B;
        --text-primary: #FAFAFA;
        --text-secondary: #A1A1AA;
        --text-muted: #71717A;
        --border-color: #27272A;
      }
      body {
        background-color: var(--bg-primary);
        color: var(--text-primary);
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      }
      .accent { color: var(--accent-color); }
      .accent-bg { background-color: var(--accent-color); }
      .accent-border { border-color: var(--accent-color); }
      .card {
        background-color: var(--bg-secondary);
        border: 1px solid var(--border-color);
        border-radius: 12px;
      }
      .text-muted { color: var(--text-secondary); }
    </style>
  </head>

  <body class="min-h-screen flex flex-col">
    <!-- Header -->
    <header class="border-b border-zinc-800 sticky top-0 z-50" style="background-color: var(--bg-primary);">
      <div class="max-w-5xl mx-auto px-4 py-4 flex items-center justify-between">
        <a href="/" class="text-xl font-bold hover:text-emerald-400 transition-colors">
          <%= @channel_site.site_title || @channel_site.telegram_bot.channel_name %>
        </a>

        <nav class="flex items-center gap-6">
          <a href="/posts" class="text-zinc-400 hover:text-white transition-colors">Все посты</a>
          <% if @channel_site.telegram_url.present? %>
            <a href="<%= @channel_site.telegram_url %>"
               target="_blank"
               rel="noopener noreferrer"
               class="inline-flex items-center gap-2 px-4 py-2 rounded-lg accent-bg text-black font-semibold hover:opacity-90 transition-opacity">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.223-.548.223l.188-2.85 5.18-4.686c.223-.198-.054-.308-.346-.11l-6.4 4.02-2.76-.918c-.6-.187-.612-.6.125-.89l10.782-4.156c.5-.18.94.12.78.89z"/>
              </svg>
              Подписаться
            </a>
          <% end %>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1">
      <%= yield %>
    </main>

    <!-- Footer -->
    <footer class="border-t border-zinc-800 mt-16">
      <div class="max-w-5xl mx-auto px-4 py-8">
        <div class="flex flex-col md:flex-row items-center justify-between gap-4">
          <div class="text-zinc-500 text-sm">
            Контент канала <%= @channel_site.site_title || @channel_site.telegram_bot.channel_name %>
          </div>

          <div class="flex items-center gap-6">
            <% if @channel_site.telegram_url.present? %>
              <a href="<%= @channel_site.telegram_url %>"
                 target="_blank"
                 rel="noopener noreferrer"
                 class="text-zinc-400 hover:text-emerald-400 transition-colors">
                Telegram канал
              </a>
            <% end %>
            <a href="https://contentforce.app"
               target="_blank"
               rel="noopener noreferrer"
               class="text-zinc-500 hover:text-zinc-400 transition-colors text-sm">
              Создано на ContentForce
            </a>
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>
