<div class="max-w-2xl mx-auto px-8 py-8">
  <!-- Header -->
  <div class="mb-6">
    <%= link_to project_path(@project), class: "inline-flex items-center gap-2 text-xs text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-50 mb-3 transition-colors" do %>
      <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
      </svg>
      Назад к проекту
    <% end %>
    <h1 class="text-xl font-semibold text-zinc-900 dark:text-zinc-50">Подключить Telegram бота</h1>
    <p class="text-xs text-zinc-500 dark:text-zinc-400 mt-1">Добавьте бота для публикации в канал</p>
  </div>

  <!-- Instructions -->
  <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded p-4 mb-4">
    <h3 class="text-xs font-semibold text-blue-900 dark:text-blue-100 mb-2 flex items-center gap-2">
      <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
        <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161c-.18.717-.962 3.767-1.362 5.001-.168.52-.504.694-.826.71-.702.033-1.235-.464-1.913-.908-1.061-.695-1.662-1.127-2.693-1.805-.119-.078-.238-.158-.356-.239a.734.734 0 01.05-1.171c.294-.24 2.661-2.426 2.661-2.426s.172-.177.161-.284a.316.316 0 00-.189-.238 1.02 1.02 0 00-.373-.05c-.177.011-2.986 1.897-8.428 5.571-.797.548-1.52.815-2.165.801-.713-.016-2.082-.403-3.104-.736-.125-.041-.247-.081-.364-.121a.722.722 0 01-.437-.873c.056-.148.146-.258.256-.354.851-.748 8.666-3.758 10.818-4.677 5.112-2.186 6.184-2.568 6.876-2.58.153-.002.495.035.716.214.186.149.238.351.263.494.024.143.056.466.032.72z"/>
      </svg>
      Как подключить бота?
    </h3>
    <ol class="space-y-1 text-xs text-blue-800 dark:text-blue-200">
      <li><strong>1.</strong> Откройте <a href="https://t.me/BotFather" target="_blank" class="underline">@BotFather</a> в Telegram</li>
      <li><strong>2.</strong> Создайте нового бота командой /newbot</li>
      <li><strong>3.</strong> Скопируйте полученный токен API</li>
      <li><strong>4.</strong> Добавьте бота в ваш канал как администратора</li>
      <li><strong>5.</strong> Дайте боту права на публикацию сообщений</li>
    </ol>
  </div>

  <!-- Form - Notion style with dark mode -->
  <div class="bg-white dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded">
    <%= form_with model: [@project, @telegram_bot], local: true, class: "p-6 space-y-5" do |f| %>
      <% if @telegram_bot.errors.any? %>
        <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded p-3">
          <ul class="text-xs text-red-700 dark:text-red-300 space-y-0.5">
            <% @telegram_bot.errors.full_messages.each do |error| %>
              <li>• <%= error %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div>
        <%= f.label :bot_token, "Токен бота", class: "block text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1.5" %>
        <%= f.text_field :bot_token, placeholder: "123456789:AABBccDDeeFFggHHiiJJkkLLmmNNoo", class: "w-full px-3 py-2 border border-zinc-200 dark:border-zinc-800 rounded text-sm focus:ring-1 focus:ring-zinc-900 dark:focus:ring-zinc-300 focus:border-zinc-900 dark:focus:border-zinc-300 outline-none transition font-mono bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-50" %>
        <p class="mt-1 text-xs text-zinc-400 dark:text-zinc-500">Токен от @BotFather. Храним в зашифрованном виде.</p>
      </div>

      <div>
        <%= f.label :bot_username, "Username бота", class: "block text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1.5" %>
        <div class="flex">
          <span class="inline-flex items-center px-3 py-2 rounded-l border border-r-0 border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900 text-zinc-500 dark:text-zinc-400 text-xs">@</span>
          <%= f.text_field :bot_username, placeholder: "my_content_bot", class: "flex-1 px-3 py-2 border border-zinc-200 dark:border-zinc-800 rounded-r text-sm focus:ring-1 focus:ring-zinc-900 dark:focus:ring-zinc-300 focus:border-zinc-900 dark:focus:border-zinc-300 outline-none transition bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-50" %>
        </div>
      </div>

      <div>
        <%= f.label :channel_id, "ID канала", class: "block text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1.5" %>
        <%= f.text_field :channel_id, placeholder: "@mychannel или -1001234567890", class: "w-full px-3 py-2 border border-zinc-200 dark:border-zinc-800 rounded text-sm focus:ring-1 focus:ring-zinc-900 dark:focus:ring-zinc-300 focus:border-zinc-900 dark:focus:border-zinc-300 outline-none transition bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-50" %>
        <p class="mt-1 text-xs text-zinc-400 dark:text-zinc-500">Username канала (с @) или числовой ID</p>
      </div>

      <div>
        <%= f.label :channel_name, "Название канала (для отображения)", class: "block text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1.5" %>
        <%= f.text_field :channel_name, placeholder: "Мой крутой канал", class: "w-full px-3 py-2 border border-zinc-200 dark:border-zinc-800 rounded text-sm focus:ring-1 focus:ring-zinc-900 dark:focus:ring-zinc-300 focus:border-zinc-900 dark:focus:border-zinc-300 outline-none transition bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-50" %>
      </div>

      <div class="pt-4 flex items-center gap-3 border-t border-zinc-200 dark:border-zinc-800">
        <%= f.submit "Добавить бота", class: "px-4 py-2 bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 rounded text-sm font-medium hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-colors cursor-pointer" %>
        <%= link_to "Отмена", project_path(@project), class: "px-4 py-2 text-sm text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-50 transition-colors" %>
      </div>
    <% end %>
  </div>
</div>
