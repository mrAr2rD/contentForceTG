<div class="space-y-6">
  <div>
    <h2 class="text-2xl font-bold text-zinc-900 dark:text-zinc-50">Редактирование модели</h2>
    <p class="mt-1 text-sm text-zinc-500 dark:text-zinc-400 font-mono"><%= @ai_model.model_id %></p>
  </div>

  <%= form_with model: [:admin, @ai_model], class: "space-y-6" do |f| %>
    <% if @ai_model.errors.any? %>
      <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4">
        <ul class="list-disc list-inside text-sm text-red-600 dark:text-red-400">
          <% @ai_model.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="bg-white dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <%= f.label :name, 'Отображаемое название', class: "block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1" %>
          <%= f.text_field :name, class: "w-full px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-50" %>
        </div>

        <div>
          <%= f.label :provider, 'Провайдер', class: "block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1" %>
          <%= f.text_field :provider, class: "w-full px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-50" %>
        </div>

        <div>
          <%= f.label :tier, 'Уровень доступа', class: "block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1" %>
          <%= f.select :tier, [['Бесплатный', 'free'], ['Starter', 'starter'], ['Pro', 'pro'], ['Business', 'business']], {}, class: "w-full px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-50" %>
        </div>

        <div>
          <%= f.label :max_tokens, 'Максимум токенов', class: "block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1" %>
          <%= f.number_field :max_tokens, min: 1, class: "w-full px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-50" %>
        </div>
      </div>

      <div class="border-t border-zinc-200 dark:border-zinc-800 pt-6">
        <h4 class="text-md font-semibold text-zinc-900 dark:text-zinc-50 mb-4">Стоимость (OpenRouter)</h4>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <%= f.label :input_cost_per_1k, 'Input $ за 1K токенов', class: "block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1" %>
            <%= f.number_field :input_cost_per_1k, step: 0.000001, min: 0, class: "w-full px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-50" %>
            <p class="mt-1 text-xs text-zinc-500 dark:text-zinc-400">Установите 0 для бесплатных моделей</p>
          </div>

          <div>
            <%= f.label :output_cost_per_1k, 'Output $ за 1K токенов', class: "block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1" %>
            <%= f.number_field :output_cost_per_1k, step: 0.000001, min: 0, class: "w-full px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-50" %>
          </div>
        </div>
      </div>

      <div class="flex items-center gap-2">
        <%= f.check_box :active, class: "w-4 h-4 rounded border-zinc-300 dark:border-zinc-700 text-primary-600" %>
        <%= f.label :active, 'Активна (доступна пользователям)', class: "text-sm text-zinc-700 dark:text-zinc-300" %>
      </div>
    </div>

    <div class="flex items-center gap-4">
      <%= f.submit 'Сохранить', class: "px-6 py-2 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700 transition-colors cursor-pointer" %>
      <%= link_to 'Отмена', admin_ai_models_path, class: "px-6 py-2 border border-zinc-300 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 rounded-lg text-sm font-medium hover:bg-zinc-50 dark:hover:bg-zinc-900 transition-colors" %>
    </div>
  <% end %>
</div>
