<%= content_for :head do %>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <title>Контакты — ContentForce</title>
  <meta name="description" content="Свяжитесь с командой ContentForce. Мы всегда готовы помочь с вопросами по продукту и техническими проблемами.">
<% end %>

<style>
  .contacts-page {
    --accent: #00D4AA;
    --bg-dark: #0A0A0B;
    --bg-card: #111113;
    --bg-elevated: #1A1A1D;
    --text-primary: #FAFAFA;
    --text-secondary: #A1A1AA;
    --text-muted: #71717A;
    --border: #27272A;
    font-family: 'Space Grotesk', system-ui, sans-serif;
  }

  .contacts-page code, .contacts-page .mono {
    font-family: 'JetBrains Mono', monospace;
  }

  .grain-overlay {
    position: fixed;
    top: -50%;
    left: -50%;
    right: -50%;
    bottom: -50%;
    width: 200%;
    height: 200vh;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    opacity: 0.03;
    pointer-events: none;
    z-index: 100;
  }

  .section-card {
    transition: all 0.3s ease;
  }

  .section-card:hover {
    border-color: var(--accent);
  }

  .contact-method {
    transition: transform 0.3s ease, border-color 0.3s ease;
  }

  .contact-method:hover {
    transform: translateY(-2px);
    border-color: var(--accent);
  }
</style>

<div class="contacts-page min-h-screen bg-[#0A0A0B] text-[#FAFAFA]">
  <div class="grain-overlay"></div>

  <!-- Navigation -->
  <nav class="sticky top-0 z-50 backdrop-blur-xl bg-[#0A0A0B]/80 border-b border-[#27272A]/50">
    <div class="max-w-5xl mx-auto px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <%= link_to root_path, class: "flex items-center gap-3 group" do %>
          <div class="w-9 h-9 bg-[#00D4AA] rounded-lg flex items-center justify-center font-bold text-[#0A0A0B] text-sm group-hover:rotate-[-8deg] transition-transform duration-300">
            CF
          </div>
          <span class="text-lg font-semibold tracking-tight">ContentForce</span>
        <% end %>

        <div class="flex items-center gap-4 text-sm">
          <%= link_to "Главная", root_path, class: "text-[#A1A1AA] hover:text-[#00D4AA] transition-colors" %>
          <%= link_to "О нас", about_path, class: "text-[#A1A1AA] hover:text-[#00D4AA] transition-colors" %>
          <%= link_to "Документация", docs_path, class: "text-[#A1A1AA] hover:text-[#00D4AA] transition-colors" %>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <div class="relative border-b border-[#27272A]">
    <div class="absolute inset-0 bg-gradient-to-b from-[#00D4AA]/5 to-transparent"></div>
    <div class="relative max-w-5xl mx-auto px-6 lg:px-8 py-20">
      <div class="mono text-xs text-[#00D4AA] tracking-widest uppercase mb-4">Контакты</div>
      <h1 class="text-4xl lg:text-5xl font-bold tracking-tight mb-4">
        Свяжитесь с нами
      </h1>
      <p class="text-xl text-[#A1A1AA] max-w-2xl">
        Мы всегда рады помочь с вопросами по продукту, техническими проблемами или предложениями о сотрудничестве.
      </p>
    </div>
  </div>

  <!-- Content -->
  <div class="max-w-5xl mx-auto px-6 lg:px-8 py-16">

    <% if flash[:notice] %>
      <div class="mb-8 p-4 bg-[#00D4AA]/10 border border-[#00D4AA]/20 rounded-xl flex items-center gap-3">
        <svg class="w-5 h-5 text-[#00D4AA] flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
        </svg>
        <p class="text-[#00D4AA]"><%= flash[:notice] %></p>
      </div>
    <% end %>

    <div class="grid lg:grid-cols-3 gap-8">
      <!-- Contact Form -->
      <div class="lg:col-span-2">
        <div class="section-card bg-[#111113] border border-[#27272A] rounded-2xl p-8">
          <h2 class="text-2xl font-bold mb-6">Написать нам</h2>

          <%= form_with url: submit_contact_path, method: :post, local: true, class: "space-y-6" do |f| %>
            <div class="grid md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium mb-2">Ваше имя <span class="text-[#00D4AA]">*</span></label>
                <input type="text" name="name" required class="w-full px-4 py-3 bg-[#0A0A0B] border border-[#27272A] rounded-lg focus:border-[#00D4AA] focus:outline-none transition-colors placeholder:text-[#71717A]" placeholder="Иван Иванов">
              </div>
              <div>
                <label class="block text-sm font-medium mb-2">Email <span class="text-[#00D4AA]">*</span></label>
                <input type="email" name="email" required class="w-full px-4 py-3 bg-[#0A0A0B] border border-[#27272A] rounded-lg focus:border-[#00D4AA] focus:outline-none transition-colors placeholder:text-[#71717A]" placeholder="email@example.com">
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium mb-2">Тема обращения</label>
              <select name="subject" class="w-full px-4 py-3 bg-[#0A0A0B] border border-[#27272A] rounded-lg focus:border-[#00D4AA] focus:outline-none transition-colors text-[#FAFAFA]">
                <option value="general">Общий вопрос</option>
                <option value="support">Техническая поддержка</option>
                <option value="billing">Вопросы оплаты</option>
                <option value="partnership">Сотрудничество</option>
                <option value="feedback">Отзыв о продукте</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium mb-2">Сообщение <span class="text-[#00D4AA]">*</span></label>
              <textarea name="message" rows="6" required class="w-full px-4 py-3 bg-[#0A0A0B] border border-[#27272A] rounded-lg focus:border-[#00D4AA] focus:outline-none transition-colors resize-none placeholder:text-[#71717A]" placeholder="Опишите ваш вопрос или проблему..."></textarea>
            </div>

            <button type="submit" class="w-full md:w-auto px-8 py-3 bg-[#00D4AA] text-[#0A0A0B] font-semibold rounded-lg hover:bg-[#00D4AA]/90 transition-colors flex items-center justify-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
              Отправить сообщение
            </button>
          <% end %>
        </div>
      </div>

      <!-- Contact Methods -->
      <div class="space-y-4">
        <a href="https://t.me/contentforce_support" target="_blank" rel="noopener" class="contact-method block bg-[#111113] border border-[#27272A] rounded-xl p-5">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-[#00D4AA]/10 rounded-lg flex items-center justify-center">
              <svg class="w-6 h-6 text-[#00D4AA]" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161c-.18.717-.962 3.767-1.362 5.001-.168.52-.504.694-.826.71-.702.033-1.235-.464-1.913-.908-1.061-.695-1.662-1.127-2.693-1.805-.119-.078-.238-.158-.356-.239a.734.734 0 01.05-1.171c.294-.24 2.661-2.426 2.661-2.426s.172-.177.161-.284a.316.316 0 00-.189-.238 1.02 1.02 0 00-.373-.05c-.177.011-2.986 1.897-8.428 5.571-.797.548-1.52.815-2.165.801-.713-.016-2.082-.403-3.104-.736-.125-.041-.247-.081-.364-.121a.722.722 0 01-.437-.873c.056-.148.146-.258.256-.354.851-.748 8.666-3.758 10.818-4.677 5.112-2.186 6.184-2.568 6.876-2.58.153-.002.495.035.716.214.186.149.238.351.263.494.024.143.056.466.032.72z"/>
              </svg>
            </div>
            <div>
              <h3 class="font-semibold">Telegram</h3>
              <p class="text-sm text-[#A1A1AA]">@contentforce_support</p>
            </div>
          </div>
        </a>

        <a href="mailto:support@contentforce.ru" class="contact-method block bg-[#111113] border border-[#27272A] rounded-xl p-5">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-[#00D4AA]/10 rounded-lg flex items-center justify-center">
              <svg class="w-6 h-6 text-[#00D4AA]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
            </div>
            <div>
              <h3 class="font-semibold">Email</h3>
              <p class="text-sm text-[#A1A1AA]">support@contentforce.ru</p>
            </div>
          </div>
        </a>

        <div class="bg-[#111113] border border-[#27272A] rounded-xl p-5">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-[#00D4AA]/10 rounded-lg flex items-center justify-center">
              <svg class="w-6 h-6 text-[#00D4AA]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
            </div>
            <div>
              <h3 class="font-semibold">Время ответа</h3>
              <p class="text-sm text-[#A1A1AA]">Обычно в течение 24 часов</p>
            </div>
          </div>
        </div>

        <!-- FAQ hint -->
        <div class="p-4 bg-[#1A1A1D] rounded-xl border border-[#27272A]">
          <p class="text-sm text-[#A1A1AA] mb-2">Возможно, ответ уже есть в документации:</p>
          <%= link_to docs_path, class: "inline-flex items-center gap-2 text-[#00D4AA] text-sm hover:underline" do %>
            Перейти в документацию
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
            </svg>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="border-t border-[#27272A] pt-8 mt-16 flex flex-col md:flex-row justify-between items-center gap-4">
      <div class="flex items-center gap-6 text-sm">
        <%= link_to "О нас", about_path, class: "text-[#71717A] hover:text-[#00D4AA] transition-colors" %>
        <%= link_to "Документация", docs_path, class: "text-[#71717A] hover:text-[#00D4AA] transition-colors" %>
        <%= link_to "Блог", blog_path, class: "text-[#71717A] hover:text-[#00D4AA] transition-colors" %>
        <%= link_to "Партнёрам", careers_path, class: "text-[#71717A] hover:text-[#00D4AA] transition-colors" %>
      </div>
      <div class="flex items-center gap-6 text-sm">
        <%= link_to "Политика", privacy_path, class: "text-[#71717A] hover:text-[#00D4AA] transition-colors" %>
        <%= link_to "Оферта", terms_path, class: "text-[#71717A] hover:text-[#00D4AA] transition-colors" %>
      </div>
    </div>
  </div>
</div>
